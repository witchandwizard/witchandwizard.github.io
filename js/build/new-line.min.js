/*! new-line 2014-09-20 */
function isScrolInsideSection(a,b){var b=void 0==b?0:b,c=$(window).scrollTop();return c>=a.offset().top-b&&c<=a.offset().top+a.innerHeight()-b?!0:!1}function getScrollOffset(){return $("#menu .navbar").innerHeight()}function resizeVideoModal(a){console.log(a);var b=a.find("iframe").attr("width"),c=a.find("iframe").attr("height"),d=a.find(".modal-body").width(),e=d*c/b;a.find("iframe").width(d),a.find("iframe").height(e)}function onYouTubeIframeAPIReady(){player=new YT.Player("vid",{events:{}})}function isMobileDevice(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}var tag=document.createElement("script");tag.src="https://www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);var wpOffset=60,player,layout={doneAnimateSkill:!1,init:function(){this.initParallax(),this.initStickyMenu(),this.initClickScrollTo(),this.initPortfolioGallery(),this.initEmphasizeSec(),this.initTestimonial(),this.initMap(),this.initVideo(),this.initHead()},initHead:function(){var a=$("header .big-header:visible");$("header").height($(window).height()),$(window).resize(function(){if(a=$("header .big-header:visible"),void 0!=a[0]){var b=a[0].naturalWidth,c=a[0].naturalHeight,d={},e="";if(b>$(window).width()&&c<=$(window).height())e="height";else if(c>$(window).height()&&b<=$(window).width())e="width";else{var f=($(window).width()-b,$(window).height()-c,c*$(window).width()/b);e=f>$(window).height()?"width":"height"}if("width"==e){var f=c*$(window).width()/b;d={width:$(window).width(),top:$(window).height()-f}}else{var g=$(window).height()*b/c;d={height:$(window).height(),left:($(window).width()-g)/2}}$("header").height($(window).height()),a.removeAttr("style"),a.css(d)}}),imagesLoaded(a,function(){$("#overlay").fadeOut(),setTimeout(function(){$(window).trigger("resize")},500)}),$(".head .hint a").click(function(a){a.preventDefault(),$("#menu").ScrollTo({duration:1e3})})},initVideo:function(){$("#myModal").on("hidden.bs.modal",function(){player.stopVideo()}),$("#myModal").on("shown.bs.modal",function(){resizeVideoModal($("#myModal"))}),$(window).resize(function(){resizeVideoModal($("#myModal"))})},initMap:function(){var a=new google.maps.LatLng(29.744109,-95.365845),b={zoom:15,center:a,mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:!0,scrollwheel:!1},c=new google.maps.Map(document.getElementById("map_content"),b),d=new google.maps.Marker({position:a,map:c});$(window).resize(function(){c.setCenter(d.getPosition())}),$(".map .backdrop").click(function(){$(".map").addClass("show"),setTimeout(function(){google.maps.event.trigger(c,"resize"),c.setCenter(d.getPosition())},600)})},initTestimonial:function(){$(".testimonial .flexslider").flexslider({prevText:"",nextText:"",animation:"slide"})},initEmphasizeSec:function(){$(window).scroll(function(){if(isScrolInsideSection($("#achievement"),getScrollOffset())){if(void 0!=$("#achievement").data("first-time"))return;$("#achievement").data("first-time",1),$("#achievement .stat").each(function(){$(this).animateNumber({number:parseInt($(this).html())})})}})},initParallax:function(){isMobileDevice()||$(".parallax").addClass("active")},initStickyMenu:function(){$(document).scroll(function(){var a=$("#menu"),b=($("header"),a.offset().top);$(window).scrollTop()>=b?a.find("nav").addClass("navbar-fixed-top"):a.find("nav").removeClass("navbar-fixed-top")}),$(document).trigger("scroll")},initClickScrollTo:function(){$("#menu nav a, .s-menu a").click(function(a){a.preventDefault();var b=$(this).attr("href");$("#menu-content").collapse("hide");var c=$(window).width()>767?0:500;setTimeout(function(){"#"!=b?$(b).ScrollTo({duration:1e3,offsetTop:getScrollOffset()}):$("#head").ScrollTo({duration:1e3})},c)}),$(window).scroll(function(){var a=!1;$("#menu .navbar-right a").each(function(){var b=$($(this).attr("href"));isScrolInsideSection(b,getScrollOffset())&&($(this).parents("li").is($("#menu nav li.active"))||($("#menu nav li").removeClass("active"),$(this).parents("li").addClass("active"),a=!0))}),a||isScrolInsideSection($("#head"))&&$("#menu nav li").removeClass("active")})},initPortfolioGallery:function(){$(".project a[rel^='prettyPhoto']").prettyPhoto({animation_speed:"normal",theme:"light_square",slideshow:3e3,autoplay_slideshow:!1,social_tools:"",modal:!1,markup:'<div class="pp_pic_holder"> 						<div class="ppt">&nbsp;</div> 						<div class="pp_top"> 							<div class="pp_left"></div> 							<div class="pp_middle"></div> 							<div class="pp_right"></div> 						</div> 						<div class="pp_content_container"> 							<div class="pp_left"> 							<div class="pp_right"> 								<div class="pp_content"> 									<div class="pp_loaderIcon"></div> 									<div class="pp_fade"> 										<a href="#" class="pp_expand" title="Expand the image">Expand</a> 										<div class="pp_hoverContainer"> 											<a class="pp_next" href="#">next</a> 											<a class="pp_previous" href="#">previous</a> 										</div> 										<div id="pp_full_res"></div> 										<div class="pp_details"> 											<div class="pp_nav"> 												<div class="pp-nav-wrapper"> 													<a href="#" class="pp_arrow_previous">Previous</a> 													<p class="currentTextHolder">0/0</p> 													<a href="#" class="pp_arrow_next"></a> 												</div> 											</div> 											<p class="pp_description"></p> 											<a class="pp_close" href="#">Close</a> 										</div> 									</div> 								</div> 							</div> 							</div> 						</div> 						<div class="pp_bottom"> 							<div class="pp_left"></div> 							<div class="pp_middle"></div> 							<div class="pp_right"></div> 						</div> 					</div> 					<div class="pp_overlay"></div>',changepicturecallback:function(){var a=$("#fullResImage").height()+$(".pp_details").outerHeight()+10;if($(".pp_right .pp_content").height(a),!($(window).width()>640)){$(".pp_pic_holder").css({width:$(window).width()-20,left:"10px"});var b=$(".pp_pic_holder").width()-40;$(".pp_content").width(b),$(".pp_details").width(b),$(".pp_hoverContainer").css({width:b,height:b*$("#fullResImage").height()/$("#fullResImage").width()}),$("#fullResImage").css({width:b,height:b*$("#fullResImage").height()/$("#fullResImage").width()})}}})}};$(document).ready(function(){layout.init()});